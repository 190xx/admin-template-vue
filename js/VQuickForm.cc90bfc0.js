(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["VQuickForm"],{"0817":function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return n}));const i="span",r={ASelect:"FormSelect",ARadioGroup:"FormRadio",ACascader:"FormCascader"},n={ARadioGroup:{trigger:"input",validateTrigger:"input"}}},"4d06":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("AForm",{staticClass:"quick-form",class:{"quick-form-inline":"inline"===t.ownLayout},attrs:{form:t.formContext,layout:t.ownLayout},on:{submit:function(e){return e.preventDefault(),t.submitHandler(e)}}},[o("ARow",t._b({},"ARow",t.ownRow,!1),[t._l(t.ownFields,(function(e){return[o("ACol",t._b({key:e.key},"ACol",e.col,!1),[o("AFormItem",t._b({class:[{"quick-form-item-inline":"inline"===t.ownLayout},"quick-form-item"],attrs:{label:e.label,"data-form-key":e.key}},"AFormItem",e.layout,!1),[e.slot?[t._t(e.slot,null,{decorator:t.getDecorator(e.key),attrs:e.attrs})]:e._IS_NATIVE?[o("NativeRender",t._g(t._b({key:e.key+"-native",staticClass:"native-reset",attrs:{tag:e.tag,value:t.ownDecorators[e.key].initialValue}},"NativeRender",e.attrs,!1),e.on))]:[o(e._IS_RENDER?"FormRender":e.tag,t._g(t._b({directives:[{name:"decorator",rawName:"v-decorator",value:t.getDecorator(e.key),expression:"getDecorator(item.key)"}],key:e.key+"-component",tag:"Component",attrs:{tag:e._IS_RENDER?e.tag:void 0,size:(e.attrs?e.attrs.size:void 0)||t.size}},"Component",e.attrs,!1),e.on))]],2)],1)]})),t._t("default"),(t.$listeners.submit||t.$scopedSlots.search)&&"inline"===t.ownLayout?o("ACol",[o("AFormItem",{staticClass:"quick-form-item-inline quick-form-item"},[t._t("search",[o("AButtonGroup",{attrs:{size:t.size}},[t.$listeners.reset?o("AButton",{attrs:{icon:"reload"},on:{click:t.reset}},[t._v("重置")]):t._e(),t.$listeners.submit?o("AButton",{attrs:{type:"primary",icon:"search","html-type":"submit"}},[t._v("查询")]):t._e()],1)])],2)],1):t._e()],2),(t.$listeners.submit||t.$scopedSlots.submit)&&"inline"!==t.ownLayout?[o("AFormItem",t._b({staticClass:"quick-form-action"},"AFormItem",t.submitLayout,!1),[t._t("submit",[t.$listeners.cancel?o("AButton",{attrs:{size:t.size,icon:"undo"},on:{click:t.cancel}},[t._v(" "+t._s(t.cancelText)+" ")]):t._e(),t.$listeners.submit?o("AButton",{attrs:{size:t.size,type:"primary",icon:"check","html-type":"submit",loading:t.loading}},[t._v(" "+t._s(t.submitText)+" ")]):t._e()])],2)]:t._e()],2)},r=[],n=(o("ddb0"),o("0817"));function s(t){const e={horizontal:{type:"flex",justify:"start"},inline:{type:"flex",justify:"start",gutter:{sm:24}},vertical:{type:"flex",justify:"start",gutter:{xs:16,sm:24,md:32,xxl:40}}};return e[t]}function a(t,e){const o=e.length,i={horizontal:{xs:24},inline:{xs:24,sm:12,md:12,lg:8,xl:3===o?6:8,xxl:4===o?5:6},vertical:{xs:24,sm:12,md:12,lg:8,xl:8,xxl:6}};return i[t]}function l(t){const e={horizontal:{labelCol:{sm:5,lg:4},wrapperCol:{sm:19,lg:20}},inline:{labelCol:{sm:7},wrapperCol:{sm:17}},vertical:{labelCol:{},wrapperCol:{}}};return e[t]}function c(t){const e=Object.entries(t.labelCol).reduce((t,[e,o])=>(t[e]={offset:o},t),{});return{wrapperCol:e}}const u=function(t){return"string"===typeof t&&/^[a-z]/.test(t)},m=function(t,e={}){let o=!1;if(Object.entries(t).forEach(([t,i])=>{"object"===typeof i&&(e[t]=m(i,e[t]),o=!0)}),!o){const o=Array.isArray(e)?[]:{};e=Object.assign(o,t,e)}return e},d=(t,e)=>{if(t===e)return!0;const[o,i]=[t,e].map(t=>JSON.stringify(t));return o===i},h=t=>(e,o)=>new Promise((i,r)=>{const n=(t,e)=>t?r(t):i(e);Array.isArray(e)?o?t(e,o,n):t(e,n):t(n)}),f=function({...t}){return Object.keys(t).forEach(e=>{""===t[e]&&(t[e]=void 0)}),t};var y={name:"QuickForm",components:{FormSelect:()=>o.e("FormSelect").then(o.bind(null,"94ebb")),FormRadio:()=>o.e("FormRadio").then(o.bind(null,"4b97")),FormCascader:()=>o.e("FormCascader").then(o.bind(null,"5290")),FormRender:()=>o.e("FormRender").then(o.bind(null,"be1d")),NativeRender:()=>o.e("NativeRender").then(o.bind(null,"66a5"))},props:{value:Object,createOptions:Object,layout:{type:String,validator:t=>["horizontal","vertical","inline"].includes(t)},fields:{type:Array,default:()=>[]},decorators:Object,fieldsCol:[Object,Number],fieldsLayout:Object,row:Object,size:{type:String,validator:t=>["default","large","small"].includes(t),default:"default"},cancelText:{type:String,default:"取消"},submitText:{type:String,default:"提交"},loading:Boolean},data(){return{ownDecorators:{}}},computed:{ownLayout(){return this.layout||this.$listeners.reset&&"inline"||"horizontal"},ownRow(){return Object.assign({},s(this.ownLayout),this.row)},ownFields(){const t=this.commonCol,e=this.commonLayout;return this.fields.map(o=>{const i=b(o.col,t),r=p(o,e,this.layout),n=g(o.tag),s=C(n);return w(o),{...o,col:i,layout:r,tag:n,...s}})},commonLayout(){const t=l(this.ownLayout);return m(t,{...this.fieldsLayout})},commonCol(){const t=a(this.ownLayout,this.fields);return"number"===typeof this.fieldsCol?{span:this.fieldsCol}:Object.assign({},t,this.fieldsCol)},submitLayout(){return c(this.commonLayout)}},watch:{value:{handler(t){d(t,this.cacheValue)||(this.cacheValue={...t},this.$nextTick(()=>this.formContext._setValue(t)))},deep:!0},fields(){this.ownDecorators=this.getOwnDecorators()},decorators:{handler(){this.ownDecorators=this.getOwnDecorators()},immediate:!0,deep:!0}},created(){this.formContext=this.createFormContext(),this.formContext._setValue(this.value,!0),this.cacheValue={...this.value}},methods:{createFormContext(){const t=this.createOptions||{},e=(t,e)=>(...o)=>{e&&e(...o),this.$emit(t,...o)},o={...t,onValuesChange:e("change-values",t.onValuesChange),onFieldsChange:e("change-fields",t.onFieldsChange)},i=v.call(this,this.$form.createForm(this,o));return this.$emit("get-form",i),i},getDecorator(t){const e=this.ownDecorators[t];return e?[t,e]:[t]},getOwnDecorators(){const t=this.decorators||{};return this.fields.reduce((e,o)=>{const i=n["a"][o.tag],r=o.key,s=t[r],a=Array.isArray(s)?{rules:s}:s,l=this.ownDecorators[r];return e[r]={...i,initialValue:void 0,...l,...a},e},Object.create(null))},submitHandler(){this.$emit("update:loading",!0),this.decorators?this.submitWithValidate():this.submit()},submitWithValidate(){this.formContext.validateFieldsAndScroll((t,e)=>{t?(this.$emit("error",t,e),this.$emit("update:loading",!1)):this.$emit("submit",f(e))})},submit(){const t=this.formContext.getFieldsValue();this.$emit("submit",f(t))},reset(){this.formContext.resetFields(),this.$emit("reset",this.formContext.getFieldsValue())},cancel(){this.$emit("cancel",this.formContext.getFieldsValue())}}};const b=function(t,e){return Object.assign({},e,"number"===typeof t?{span:t}:t)},p=function(t,e,o){if("vertical"===o)return e;const i=t.label?e:{wrapperCol:{xs:24}};return m(i,t.layout)},g=function(t){return t?n["c"][t]||t:n["b"]},w=function(t){return t},C=function(t){const e=null==t||u(t),o=!e&&"string"!==typeof t;return{_IS_NATIVE:e,_IS_RENDER:o}},v=function(t){const{setFieldsValue:e,resetFields:o,validateFields:i,validateFieldsAndScroll:r}=t;return t._setValue=(o,i=!1)=>{if(null==o)return;const r=this.ownFields.reduce((t,e)=>((e._IS_NATIVE||i)&&(this.ownDecorators[e.key].initialValue=o[e.key]),t[e.key]=o[e.key],t),Object.create(null));i||e.call(t,r)},t.resetFields=e=>{o.call(t,e),this.cacheValue={}},t.validateFieldsAsync=h(i),t.validateFieldsAndScrollAsync=h(r),t};var _=y,F=(o("a552"),o("2877")),A=Object(F["a"])(_,i,r,!1,null,"415281c0",null);e["default"]=A.exports},a552:function(t,e,o){"use strict";var i=o("fee4"),r=o.n(i);r.a},fee4:function(t,e,o){}}]);