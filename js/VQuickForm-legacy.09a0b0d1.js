(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["VQuickForm"],{"0817":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var r="span",i={ASelect:"FormSelect",ARadioGroup:"FormRadio",ACascader:"FormCascader"},o={ARadioGroup:{trigger:"input",validateTrigger:"input"}}},"4d06":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AForm",{staticClass:"quick-form",class:{"quick-form-inline":"inline"===t.ownLayout},attrs:{form:t.formContext,layout:t.ownLayout},on:{submit:function(e){return e.preventDefault(),t.submitHandler(e)}}},[n("ARow",t._b({},"ARow",t.ownRow,!1),[t._l(t.ownFields,(function(e){return[n("ACol",t._b({key:e.key},"ACol",e.col,!1),[n("AFormItem",t._b({class:[{"quick-form-item-inline":"inline"===t.ownLayout},"quick-form-item"],attrs:{label:e.label,"data-form-key":e.key}},"AFormItem",e.layout,!1),[e.slot?[t._t(e.slot,null,{decorator:t.getDecorator(e.key),attrs:e.attrs})]:e._IS_NATIVE?[n("NativeRender",t._g(t._b({key:e.key+"-native",staticClass:"native-reset",attrs:{tag:e.tag,value:t.ownDecorators[e.key].initialValue}},"NativeRender",e.attrs,!1),e.on))]:[n(e._IS_RENDER?"FormRender":e.tag,t._g(t._b({directives:[{name:"decorator",rawName:"v-decorator",value:t.getDecorator(e.key),expression:"getDecorator(item.key)"}],key:e.key+"-component",tag:"Component",attrs:{tag:e._IS_RENDER?e.tag:void 0,size:(e.attrs?e.attrs.size:void 0)||t.size}},"Component",e.attrs,!1),e.on))]],2)],1)]})),t._t("default"),(t.$listeners.submit||t.$scopedSlots.search)&&"inline"===t.ownLayout?n("ACol",[n("AFormItem",{staticClass:"quick-form-item-inline quick-form-item"},[t._t("search",[n("AButtonGroup",{attrs:{size:t.size}},[t.$listeners.reset?n("AButton",{attrs:{icon:"reload"},on:{click:t.reset}},[t._v("重置")]):t._e(),t.$listeners.submit?n("AButton",{attrs:{type:"primary",icon:"search","html-type":"submit"}},[t._v("查询")]):t._e()],1)])],2)],1):t._e()],2),(t.$listeners.submit||t.$scopedSlots.submit)&&"inline"!==t.ownLayout?[n("AFormItem",t._b({staticClass:"quick-form-action"},"AFormItem",t.submitLayout,!1),[t._t("submit",[t.$listeners.cancel?n("AButton",{attrs:{size:t.size,icon:"undo"},on:{click:t.cancel}},[t._v(" "+t._s(t.cancelText)+" ")]):t._e(),t.$listeners.submit?n("AButton",{attrs:{size:t.size,type:"primary",icon:"check","html-type":"submit",loading:t.loading}},[t._v(" "+t._s(t.submitText)+" ")]):t._e()])],2)]:t._e()],2)},i=[],o=(n("99af"),n("caad"),n("d81d"),n("13d5"),n("a9e3"),n("d3b7"),n("2532"),n("5530")),a=n("0817"),s=(n("4fad"),n("3835"));function u(t){var e={horizontal:{type:"flex",justify:"start"},inline:{type:"flex",justify:"start",gutter:{sm:24}},vertical:{type:"flex",justify:"start",gutter:{xs:16,sm:24,md:32,xxl:40}}};return e[t]}function l(t,e){var n=e.length,r={horizontal:{xs:24},inline:{xs:24,sm:12,md:12,lg:8,xl:3===n?6:8,xxl:4===n?5:6},vertical:{xs:24,sm:12,md:12,lg:8,xl:8,xxl:6}};return r[t]}function c(t){var e={horizontal:{labelCol:{sm:5,lg:4},wrapperCol:{sm:19,lg:20}},inline:{labelCol:{sm:7},wrapperCol:{sm:17}},vertical:{labelCol:{},wrapperCol:{}}};return e[t]}function f(t){var e=Object.entries(t.labelCol).reduce((function(t,e){var n=Object(s["a"])(e,2),r=n[0],i=n[1];return t[r]={offset:i},t}),{});return{wrapperCol:e}}n("4160"),n("b64b"),n("159b");var d=n("53ca"),m=function(t){return"string"===typeof t&&/^[a-z]/.test(t)},h=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!1;if(Object.entries(e).forEach((function(e){var i=Object(s["a"])(e,2),o=i[0],a=i[1];"object"===Object(d["a"])(a)&&(n[o]=t(a,n[o]),r=!0)})),!r){var i=Array.isArray(n)?[]:{};n=Object.assign(i,e,n)}return n},b=function(t,e){if(t===e)return!0;var n=[t,e].map((function(t){return JSON.stringify(t)})),r=Object(s["a"])(n,2),i=r[0],o=r[1];return i===o},y=function(t){return function(e,n){return new Promise((function(r,i){var o=function(t,e){return t?i(t):r(e)};Array.isArray(e)?n?t(e,n,o):t(e,o):t(o)}))}},v=function(t){var e=Object.assign({},t);return Object.keys(e).forEach((function(t){""===e[t]&&(e[t]=void 0)})),e},p={name:"QuickForm",components:{FormSelect:function(){return n.e("FormSelect").then(n.bind(null,"94ebb"))},FormRadio:function(){return n.e("FormRadio").then(n.bind(null,"4b97"))},FormCascader:function(){return n.e("FormCascader").then(n.bind(null,"5290"))},FormRender:function(){return n.e("FormRender").then(n.bind(null,"be1d"))},NativeRender:function(){return n.e("NativeRender").then(n.bind(null,"66a5"))}},props:{value:Object,createOptions:Object,layout:{type:String,validator:function(t){return["horizontal","vertical","inline"].includes(t)}},fields:{type:Array,default:function(){return[]}},decorators:Object,fieldsCol:[Object,Number],fieldsLayout:Object,row:Object,size:{type:String,validator:function(t){return["default","large","small"].includes(t)},default:"default"},cancelText:{type:String,default:"取消"},submitText:{type:String,default:"提交"},loading:Boolean},data:function(){return{ownDecorators:{}}},computed:{ownLayout:function(){return this.layout||this.$listeners.reset&&"inline"||"horizontal"},ownRow:function(){return Object.assign({},u(this.ownLayout),this.row)},ownFields:function(){var t=this,e=this.commonCol,n=this.commonLayout;return this.fields.map((function(r){var i=g(r.col,e),a=w(r,n,t.layout),s=C(r.tag),u=F(s);return _(r),Object(o["a"])(Object(o["a"])({},r),{},{col:i,layout:a,tag:s},u)}))},commonLayout:function(){var t=c(this.ownLayout);return h(t,Object(o["a"])({},this.fieldsLayout))},commonCol:function(){var t=l(this.ownLayout,this.fields);return"number"===typeof this.fieldsCol?{span:this.fieldsCol}:Object.assign({},t,this.fieldsCol)},submitLayout:function(){return f(this.commonLayout)}},watch:{value:{handler:function(t){var e=this;b(t,this.cacheValue)||(this.cacheValue=Object(o["a"])({},t),this.$nextTick((function(){return e.formContext._setValue(t)})))},deep:!0},fields:function(){this.ownDecorators=this.getOwnDecorators()},decorators:{handler:function(){this.ownDecorators=this.getOwnDecorators()},immediate:!0,deep:!0}},created:function(){this.formContext=this.createFormContext(),this.formContext._setValue(this.value,!0),this.cacheValue=Object(o["a"])({},this.value)},methods:{createFormContext:function(){var t=this,e=this.createOptions||{},n=function(e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&n.apply(void 0,i),t.$emit.apply(t,[e].concat(i))}},r=Object(o["a"])(Object(o["a"])({},e),{},{onValuesChange:n("change-values",e.onValuesChange),onFieldsChange:n("change-fields",e.onFieldsChange)}),i=O.call(this,this.$form.createForm(this,r));return this.$emit("get-form",i),i},getDecorator:function(t){var e=this.ownDecorators[t];return e?[t,e]:[t]},getOwnDecorators:function(){var t=this,e=this.decorators||{};return this.fields.reduce((function(n,r){var i=a["a"][r.tag],s=r.key,u=e[s],l=Array.isArray(u)?{rules:u}:u,c=t.ownDecorators[s];return n[s]=Object(o["a"])(Object(o["a"])(Object(o["a"])({},i),{},{initialValue:void 0},c),l),n}),Object.create(null))},submitHandler:function(){this.$emit("update:loading",!0),this.decorators?this.submitWithValidate():this.submit()},submitWithValidate:function(){var t=this;this.formContext.validateFieldsAndScroll((function(e,n){e?(t.$emit("error",e,n),t.$emit("update:loading",!1)):t.$emit("submit",v(n))}))},submit:function(){var t=this.formContext.getFieldsValue();this.$emit("submit",v(t))},reset:function(){this.formContext.resetFields(),this.$emit("reset",this.formContext.getFieldsValue())},cancel:function(){this.$emit("cancel",this.formContext.getFieldsValue())}}},g=function(t,e){return Object.assign({},e,"number"===typeof t?{span:t}:t)},w=function(t,e,n){if("vertical"===n)return e;var r=t.label?e:{wrapperCol:{xs:24}};return h(r,t.layout)},C=function(t){return t?a["c"][t]||t:a["b"]},_=function(t){return t},F=function(t){var e=null==t||m(t),n=!e&&"string"!==typeof t;return{_IS_NATIVE:e,_IS_RENDER:n}},O=function(t){var e=this,n=t.setFieldsValue,r=t.resetFields,i=t.validateFields,o=t.validateFieldsAndScroll;return t._setValue=function(r){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=r){var o=e.ownFields.reduce((function(t,n){return(n._IS_NATIVE||i)&&(e.ownDecorators[n.key].initialValue=r[n.key]),t[n.key]=r[n.key],t}),Object.create(null));i||n.call(t,o)}},t.resetFields=function(n){r.call(t,n),e.cacheValue={}},t.validateFieldsAsync=y(i),t.validateFieldsAndScrollAsync=y(o),t},A=p,j=(n("a552"),n("2877")),x=Object(j["a"])(A,r,i,!1,null,"415281c0",null);e["default"]=x.exports},a552:function(t,e,n){"use strict";var r=n("fee4"),i=n.n(r);i.a},fee4:function(t,e,n){}}]);